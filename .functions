#Open Project
function oprj() {
	if [[ -n "$1" ]]
		then
			oecps
			cd $1
		else
			echo "Project Name Missing"
	fi
}

#Setup Project
function stpprj() {
	if [[ -n "$1" ]]
		then
			echo "Setting Up Project $1"
			oecps
			if test -d $1
				then
					cd $1
				else
					mkdir $1
					cd $1
			fi
			cp -R ~/Eclipse/TemplateX/project .
			cp ~/Eclipse/TemplateX/build.xml .
			cp ~/Eclipse/TemplateX/config.rb .
			mkdir ./sources
			mkdir ./sources/"project meta images"
			mkdir ./sources/"project sources"
			find . -name "txex.*.*" -type f -delete
			find . -name "txdemo.*.*" -type f -delete
			perl -pi -w -e "s/TemplateX/"$1"/g;" ./build.xml
		else
			echo "Project Name Missing"
	fi
}

#Watch Project with Sass
function swtprj() {
	if test -d project
		then
			sass --compass --sourcemap --debug-info --watch project/res/sass.txsrc:project/res/css.txsrc
	fi
}

#Start Server with Current Project
function server() {
	if test -d project
		then
			cd project
			local port="${1:-8000}"
			open "http://localhost:${port}/"
			python -c $'import SimpleHTTPServer;\nmap = SimpleHTTPServer.SimpleHTTPRequestHandler.extensions_map;\nmap[""] = "text/plain";\nfor key, value in map.items():\n\tmap[key] = value + ";charset=UTF-8";\nSimpleHTTPServer.test();' "$port"
			cd ..
	fi
}